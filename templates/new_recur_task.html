{% extends "edit_task_layout.html" %}

{% block title %}
    ADD RECURRING TASK
{% endblock %}

{% block main %}<div class="d-flex justify-content-center">
    <div class="card shadow p-4 w-100" style="max-width: 600px;">
      <h4 class="text-center mb-4 text-primary">
        <i class="fas fa-plus-circle me-2"></i>Add Recurring Task
      </h4>
      <form action="/add_re_task" method="post">
        <div class="mb-3">
          <label for="task">Task Name:</label>
          <input autocomplete="off" class="form-control" id="task" name="task" placeholder="Task Name" maxlength="30" required autofocus>
        </div>
  
        <div class="mb-3">
          <label for="category">Category:</label>
          <select name="category" class="form-select">
            <option disabled selected value="">Category</option>
            {% for cat in category_all %}
              <option value="{{ cat }}">{{ cat }}</option>
            {% endfor %}
          </select>
        </div>
  
        <div class="mb-3">
          <label for="type">Type:</label>
          <input autocomplete="off" class="form-control w-50" id="type" name="type" placeholder="W for Weekly (optional)">
          <small class="form-text text-muted">Leave empty for daily recurring.</small>
        </div>
  
        <div class="mb-4">
          <label for="day">Weekly Target Day (optional):</label>
          <select name="day" class="form-select w-50">
            <option disabled selected value="">Today</option>
            {% for d in day_all %}
              <option value="{{ d }}">{{ d }}</option>
            {% endfor %}
          </select>
        </div>
  
        <div class="text-center">
          <button class="btn btn-primary" type="submit">Add Recurring Task</button>
        </div>
  
        {% if apology %}
          <p class="mt-3 text-danger text-center">{{ apology }}</p>
        {% endif %}
      </form>
    </div>
  </div>
  
{% endblock %}
